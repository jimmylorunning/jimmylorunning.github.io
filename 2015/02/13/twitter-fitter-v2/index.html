<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us" class="theme-base-09">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      TwitterFitter v2.0 &middot; jlc
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="/public/css/custom.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="layout-reverse">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          jlc
        </a>
      </h1>
      <p class="lead">jimmylocoding</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
      <a class="sidebar-nav-item" href="/resume">My Resume</a>
      <div class="social-media">
        <a class="sidebar-nav-item" href="https://github.com/jimmylorunning"><i class="fa fa-github fa-2x"></i></a>
        <a class="sidebar-nav-item" href="http://twitter.com/jimmylocoding"><i class="fa fa-twitter fa-2x"></i></a>
      </div>
    </nav>

  </div>
</div>


    <div class="content container">
      <div class="post">
  <h1 class="post-title">TwitterFitter v2.0</h1>
  <span class="post-date">13 Feb 2015</span>
  <p>So I decided to revisit my <a href="http://jimmylocoding.com/2015/01/12/week-3-round-up-twitter-fitter/">week 3 app</a>, TwitterFitter. At the end of week 3, it was a simple app that generated tweets based on a Twitter handle. The tweets it generated would be in the style of the Twitter account you gave it. It does this by chaining together words that often appear together. But there were a lot of things lacking in the app, so this week I revisited it and made it much better!</p>

<p><a href="https://secret-brushlands-4139.herokuapp.com/">Version 2.0 of Twitter Fitter</a> has a new design (it was just a white page before), and you can now enter TWO twitter handles and the app will generate tweets based on BOTH feeds combined. Also, you can now tweet the results (it tweets from the @FitterTweets account).</p>

<p>Most of these enhancements were straight forward, but there were a few tricky parts:
<ol>
    <li>At first, the generated tweets appeared on the results page and when you clicked &quot;Tweet!&quot;, it would tweet whatever was in the text field. But then I started thinking: is this a magnet for spammers? Anyone could just erase what&#39;s in that text field, type something new in, and click &quot;Tweet!&quot; and it would look like it was coming from the @FitterTweets account. This is a major security flaw, and even though there many ways to hide this information, like making the field uneditable and in a POST action instead of a GET action, people could still easily spoof it. So instead of sending the tweet from a form, I saved the generated tweets in a Tweet model as soon as they are generated. Then in the results page, in addition to showing the tweets in a text field, I also include a hidden field with the ID of the generated tweet (from the model). So when you click &quot;Tweet!&quot; you&#39;re not actually tweeting anything from the form, you&#39;re just saying &quot;tweet this previously generated tweet with this ID&quot;. So everything that is tweeted from the account is pretty much vetted and safe (at least I hope so).</li>
    <li>My controller was getting pretty fat, and I had to look at it long and hard and figure out how to refactor it. I decided to make a Feeds class, which now lives in the lib folder. It wasn&#39;t easy breaking apart the fat methods in the controller, but I&#39;m glad I did because it looks much cleaner this way.</li>
</ol></p>

<h3>To Do</h3>

<p>Tests! For the Feed class and for the controller. I&#39;m not very good at writing tests before the code, but as long as I write the tests some time, that&#39;s probably better than never.</p>

<p>Please take a look at my code <a href="https://github.com/jimmylorunning/twitter-fitter">on GitHub</a>, and play around with it <a href="https://secret-brushlands-4139.herokuapp.com/">on Heroku</a>. Any feedback is welcome!&quot;</p>

</div>
<div class="post-metadata">

<div class="tags">
  <h2>Tags</h2>
  <ul>
    
    <li><a href="/tag/Markov chains">Markov chains</a></li>
    
    <li><a href="/tag/APIs">APIs</a></li>
    
    <li><a href="/tag/twitter">twitter</a></li>
    
    <li><a href="/tag/security">security</a></li>
    
    <li><a href="/tag/refactoring">refactoring</a></li>
    
    <li><a href="/tag/TwitterFitter">TwitterFitter</a></li>
    
  </ul>
</div>

<div class="related">


  
  <h2>Related Posts</h2>
  <ul class="related-posts">
  
    <li><a href="/2015/01/12/week-3-round-up-twitter-fitter/">Week 3 Round Up: Twitter Fitter&#8212;the tweet generator!</a>
    <small>12 Jan 2015</small></li>
  

  
    <li><a href="/2015/01/07/hiding-my-api-keys/">Hiding my API keys</a>
    <small>07 Jan 2015</small></li>
  

  
    <li><a href="/2015/02/10/week-7-in-review/">Week 7 in Review</a>
    <small>10 Feb 2015</small></li>
  

  
    <li><a href="/2015/01/19/week-4-oracle-of-bacon/">Week 4: Oracle of Bacon and other stuff</a>
    <small>19 Jan 2015</small></li>
  


</ul>

</div>

      
<a name="comments"></a><h2 class="comments">Comments</h2>
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'jimmylocoding';
    var disqus_identifier = "jimmylocoding/2015/02/13/twitter-fitter-v2/";
    var disqus_url = "http://jimmylocoding.com/2015/02/13/twitter-fitter-v2/";
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

    </div>

	<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-4265933-6', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
